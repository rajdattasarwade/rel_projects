<div style="padding-right:15px;" class="container-fluid">

  <!-- form header -->
  <div class="row">
    <div class="col">
      <h1>Template Driven Forms</h1>
      <hr>
    </div>
  </div>

  <!-- main form -->
  <div class="row">
    <form action="" style="width:100%;" #myform="ngForm">
      <div class="col">

        <!-- personal info -->
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="fnText">First Name</label>
              <input type="text" ngModel name="firstname"
              #firstName = 'ngModel' 
              [ngClass]="{
                'form-control':true,
                'is-invalid': !firstName?.valid && firstName?.touched,
                'is-valid': firstName?.valid && firstName?.touched
              }" 
              required
              minlength="2"
              id="fnText" placeholder="Enter first name">
              <small id="fnHelp" class="form-text custom-invalid-feedback" 
              *ngIf='firstName?.errors?.required && firstName?.touched'>Field is required</small>
              <small id="fnHelp" class="form-text custom-invalid-feedback" 
              *ngIf='firstName?.errors?.minlength && firstName?.touched'>Minlength of field should be 2 characters</small>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="lnText">Last Name</label>
              <input type="text" ngModel name="lastname" 
              #lastName='ngModel'
              [ngClass]="{
                'form-control':true,
                'is-invalid': !lastName?.valid && lastName?.touched,
                'is-valid': lastName?.valid && lastName?.touched
              }" 
              required
              minlength="2" id="lnText" placeholder="Enter last name">
              <small id="fnHelp" *ngIf='lastName?.errors?.required && lastName?.touched' class="form-text custom-invalid-feedback">Field is required</small>
              <small id="fnHelp" *ngIf='lastName?.errors?.minlength && lastName?.touched' class="form-text custom-invalid-feedback">Min length of field required is 2 characters</small>
            </div>
          </div>
        </div>


        <!-- seperator -->
        <div class="row">
          <div class="col">
            <hr>
          </div>
        </div>


        <!-- address form portion -->
        <div class="row" ngModelGroup="address">
          <div class="col-12">
            <label for="" class="form-check-inline">Choose Type</label>
            <div class="form-check form-check-inline">
              <input 
              #radiotype='ngModel'
              [ngClass]="{
                'form-check-input':true,
                'is-invalid': !radiotype?.valid && radiotype?.touched,
                'is-valid': radiotype?.valid && radiotype?.touched
              }" 
              type="radio"  ngModel name="radiotype"  
              
              id="inlineRadio1" value="permanent">
              <label class="form-check-label" for="inlineRadio1">Permanent</label>
            </div>
            <div class="form-check form-check-inline">
              <input #radiotype='ngModel'
              [ngClass]="{
                'form-check-input':true,
                'is-invalid': !radiotype?.valid && radiotype?.touched,
                'is-valid': radiotype?.valid && radiotype?.touched
              }"  type="radio" ngModel name="radiotype" id="inlineRadio2" value="correspondance">
              <label class="form-check-label" for="inlineRadio2">Correspondance</label>
            </div>
            <small *ngIf='!radiotype?.valid && radiotype?.touched' class="form-check-inline form-text custom-invalid-feedback">Pick one option.</small>
          </div>
          <div class="col-12">
            <div class="form-group">
              <label for="addText">Street Address</label>
              <input type="text" 
              #streetaddr='ngModel'
              [ngClass]="{
                'form-control':true,
                'is-invalid': !streetaddr?.valid && streetaddr?.touched,
                'is-valid': streetaddr?.valid && streetaddr?.touched
              }" 
              required
              ngModel name="streetaddr" id="addText" placeholder="Enter street address">
              <small  *ngIf='!streetaddr?.valid && streetaddr?.touched' class="form-text custom-invalid-feedback">Field is required</small>
            </div>
          </div>
          <div class="col-12">
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="city">City</label>
                  <input type="text" 
                  #city='ngModel'
                  [ngClass]="{
                    'form-control':true,
                    'is-invalid': !city?.valid && city?.touched,
                    'is-valid': city?.valid && city?.touched
                  }" 
                  required ngModel name="city" id="city" placeholder="Enter city">
                  <small *ngIf='!city?.valid && city?.touched' class="form-text custom-invalid-feedback">Field is required</small>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="state">State</label>
                  <select id="inputState" 
                  #state='ngModel'
                  [ngClass]="{
                    'form-control':true,
                    'is-invalid': !state?.valid && state?.touched,
                    'is-valid': state?.valid && state?.touched
                  }" 
                  required ngModel name="state">
                    <option selected>Choose...</option>
                    <option *ngFor="let item of states" [value]="item">{{item}}</option>
                  </select>
                  <small *ngIf='!state?.valid && state?.touched' class="form-text custom-invalid-feedback">Field is required</small>
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="zipcode">Zip Code</label>
                  <input type="text" #zipcode='ngModel'
                  [ngClass]="{
                    'form-control':true,
                    'is-invalid': !zipcode?.valid && zipcode?.touched,
                    'is-valid': !zipcode?.errors?.required && !zipcode?.errors?.pattern && zipcode?.touched
                  }" 
                  appZipvalidator
                  ngModel name="zipcode" id="zipcode" placeholder="Enter city">
                  <small *ngIf = 'zipcode?.errors?.cus_required && zipcode?.touched' class="form-text custom-invalid-feedback">Field is required</small>
                  <small *ngIf = 'zipcode?.errors?.cus_pattern && zipcode?.touched' class="form-text custom-invalid-feedback">{{ zipcode?.errors?.cus_pattern }}</small>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- seperator -->
        <div class="row">
          <div class="col">
            <hr>
          </div>
        </div>

        <!-- final action buttons -->
        <div class="row justify-content-center">
          <div class="col-2">
            <button type="button" class="btn btn-primary" (click)="onSubmitHandler(myform)">Submit</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>